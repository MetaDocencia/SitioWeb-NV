{{/* cta-image-paragraph (override comunitario)
     - Si items[n].video_url est√° definido, muestra un iframe de YouTube en lugar de la imagen.
     - Fallback a imagen si no hay video_url.
*/}}

{{ $b := .block }}
{{ $content := (index $b "content") | default dict }}
{{ $items := (index $content "items") | default (slice) }}
{{ $design := (index $b "design") | default dict }}
{{ $css := (index $design "css_class") | default "" }}

<section id="{{ (index $b "id") | default "" }}" class="{{ $css }}">
  <div class="container mx-auto px-6">
    {{ range $items }}
      <div class="grid md:grid-cols-2 gap-8 items-center py-6">
        {{/* Lado media (video o imagen) */}}
        <div class="w-full">
          {{ $video := (index . "video_url") }}
          {{ if $video }}
            {{/* Extraer ID de YouTube de youtu.be o youtube.com/watch?v= */}}
            {{ $id := $video | replace "https://youtu.be/" "" | replace "http://youtu.be/" "" | replace "https://www.youtube.com/watch?v=" "" | replace "https://youtube.com/watch?v=" "" }}
            {{ $id = (index (split $id "?") 0) }}
            {{ $id = (index (split $id "&") 0) }}
