{{/* Bloque 'stats' en 2 filas centradas: 3 arriba + 2 abajo.
     - Centra la segunda fila aunque tenga menos ítems.
     - Agrega más espacio entre filas (mt-12). Ajustable.
*/}}

{{ $block := .block }}
{{ $content := $block.content }}
{{ $design  := $block.design }}
{{ $title := $content.title | default "" }}
{{ $text  := $content.text  | default "" }}
{{ $items := $content.items | default (slice) }}

{{ $cssClass := "" }}
{{ if and $design (isset $design "css_class") }}
  {{ $cssClass = $design.css_class }}
{{ end }}

<section id="{{ $block.id | default (anchorize $title) }}" class="py-0 {{ $cssClass }}">
  <div class="container mx-auto px-6">
    {{ if $title }}<h2 class="text-3xl font-bold mb-2 text-center">{{ $title }}</h2>{{ end }}
    {{ if $text  }}<div class="text-lg text-gray-600 dark:text-gray-300 mb-8 text-center">{{ $text | markdownify }}</div>{{ end }}

    {{ $n := len $items }}
    {{ if gt $n 0 }}
      <!-- FILA 1: primeros 3 -->
      <div class="flex flex-wrap justify-center gap-x-10">
        {{ range $i, $it := $items }}
          {{ if lt $i 3 }}
            <div class="basis-1/2 sm:basis-1/3 lg:basis-1/5 text-center">
              {{ with $it.statistic }}<div class="text-3xl font-extrabold">{{ . }}</div>{{ end }}
              {{ with $it.description }}
                <div class="mt-4 text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line">
                  {{ . | markdownify }}
                </div>
              {{ end }}
            </div>
          {{ end }}
        {{ end }}
      </div>

      <!-- FILA 2: el resto (centrada y con más espacio respecto de la fila 1) -->
      <div class="flex flex-wrap justify-center gap-x-10 mt-12">
        {{ range $i, $it := $items }}
          {{ if ge $i 3 }}
            <div class="basis-1/2 sm:basis-1/3 lg:basis-1/5 text-center">
              {{ with $it.statistic }}<div class="text-3xl font-extrabold">{{ . }}</div>{{ end }}
              {{ with $it.description }}
                <div class="mt-4 text-gray-600 dark:text-gray-300 leading-relaxed whitespace-pre-line">
                  {{ . | markdownify }}
                </div>
              {{ end }}
            </div>
          {{ end }}
        {{ end }}
      </div>
    {{ else }}
      <div class="text-gray-500 dark:text-gray-400 text-center">No hay datos para mostrar.</div>
    {{ end }}
  </div>
</section>
