{{/* 
  Shortcode: cta_fullwidth (full-bleed opcional)
  Cambios:
  - Botón sin subrayado (text-decoration:none)
  - No altera el alto: padding por defecto 0 (usa py/px si querés espacio)

  Ejemplo:
  {{< cta_fullwidth
      title="Apoya a la ciencia latinoamericana"
      text=""
      button_text="Aquí te contamos cómo"
      button_url="https://www.metadocencia.org/contacto/"
      bg="#C83737" fg="#FFFFFF" btn_bg="#FFFFFF" btn_fg="#C83737"
      variant="background"
      maxw="1600px"
      content_maxw="1100px"
      align="center"
      py="2.5rem" px="clamp(1rem,4vw,3rem)"
  >}}
  ...contenido opcional...
  {{< /cta_fullwidth >}}
*/}}

{{- $title         := .Get "title"         | default "" -}}
{{- $text          := .Get "text"          | default "" -}}
{{- $btn_text      := .Get "button_text"   | default "" -}}
{{- $btn_url       := .Get "button_url"    | default "" -}}
{{- $bg            := .Get "bg"            | default "#C83737" -}}
{{- $fg            := .Get "fg"            | default "#FFFFFF" -}}
{{- $btn_bg        := .Get "btn_bg"        | default "#FFFFFF" -}}
{{- $btn_fg        := .Get "btn_fg"        | default "#C83737" -}}
{{- $variant       := .Get "variant"       | default "background" -}} {{/* "background" o "card" */}}
{{- $maxw          := .Get "maxw"          | default "1600px" -}}
{{- $content_maxw  := .Get "content_maxw"  | default "1100px" -}}
{{- $align         := .Get "align"         | default "center" -}}
{{- $py            := .Get "py"            | default "0" -}}  {{/* <- sin padding por defecto */}}
{{- $px            := .Get "px"            | default "0" -}}  {{/* <- sin padding por defecto */}}

<section class="mdnv-cta-fullwidth"
  style="
    position:relative; left:50%; right:50%;
    margin-left:-50vw; margin-right:-50vw; width:100vw;
    {{- if eq $variant "background" -}}
      background: {{ $bg }};
      color: {{ $fg }};
    {{- end -}}
  "
>
  <div style="max-width: {{ $maxw }}; margin: 0 auto;">
    <div style="max-width: {{ $content_maxw }}; margin: 0 auto; text-align: {{ $align }};
                padding: {{ $py }} {{ $px }};">
      {{- if $title -}}
        <h2 style="margin:0 0 .6rem 0; line-height:1.2; {{ if eq $variant "background" }}color: {{ $fg }};{{ end }}">
          {{ $title | safeHTML }}
        </h2>
      {{- end -}}

      {{- if $text -}}
        <p style="margin:.25rem 0 1rem 0;">{{ $text | safeHTML }}</p>
      {{- end -}}

      {{- if and $btn_text $btn_url -}}
        <a class="mdnv-cta-btn"
           href="{{ $btn_url }}"
           style="
             display:inline-block; font-weight:800;
             padding:.9rem 1.4rem; border-radius:1rem;
             background: {{ $btn_bg }}; color: {{ $btn_fg }};
             text-decoration:none;            /* sin subrayado */
             box-shadow: 0 1px 2px rgba(0,0,0,.08);
           ">
          {{ $btn_text }}
        </a>
      {{- end -}}

      {{- .Inner -}}
    </div>
  </div>
</section>

<style>
/* Hover del botón del CTA (no afecta alto) */
.mdnv-cta-btn:hover { opacity: .92; }

/* Variante "card" (si se usa) */
.mdnv-cta-fullwidth[data-variant="card"] .mdnv-cta-card {
  background: #fff; color: #111827; border-radius: 1rem; padding: 1.25rem;
}
</style>
