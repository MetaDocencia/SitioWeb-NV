{{/* 
  Shortcode: cta_fullwidth (full-bleed opcional)

  Objetivo de esta versión:
  - Quitar subrayado del botón SIN modificar el alto del bloque.
  - No alteramos márgenes/paddings/line-height fuera de lo que vos pases por props.
*/}}

{{- $title         := .Get "title"         | default "" -}}
{{- $text          := .Get "text"          | default "" -}}
{{- $btn_text      := .Get "button_text"   | default "" -}}
{{- $btn_url       := .Get "button_url"    | default "" -}}
{{- $bg            := .Get "bg"            | default "#C83737" -}}
{{- $fg            := .Get "fg"            | default "#FFFFFF" -}}
{{- $btn_bg        := .Get "btn_bg"        | default "#FFFFFF" -}}
{{- $btn_fg        := .Get "btn_fg"        | default "#C83737" -}}
{{- $variant       := .Get "variant"       | default "background" -}} {{/* "background" o "card" */}}
{{- $maxw          := .Get "maxw"          | default "1600px" -}}
{{- $content_maxw  := .Get "content_maxw"  | default "1100px" -}}
{{- $align         := .Get "align"         | default "center" -}}
{{- $py            := .Get "py"            | default "2.5rem" -}}  {{/* mantenemos el mismo default habitual */}}
{{- $px            := .Get "px"            | default "clamp(1rem,4vw,3rem)" -}}

<section class="mdnv-cta-fullwidth"
  style="
    position:relative; left:50%; right:50%;
    margin-left:-50vw; margin-right:-50vw; width:100vw;
    {{- if eq $variant "background" -}}
      background: {{ $bg }};
      color: {{ $fg }};
    {{- end -}}
  "
>
  <div style="max-width: {{ $maxw }}; margin: 0 auto;">
    <div style="max-width: {{ $content_maxw }}; margin: 0 auto; text-align: {{ $align }};
                padding: {{ $py }} {{ $px }};">
      {{- if $title -}}
        <h2 style="{{ if eq $variant "background" }}color: {{ $fg }};{{ end }}">
          {{ $title | safeHTML }}
        </h2>
      {{- end -}}

      {{- if $text -}}
        <p>{{ $text | safeHTML }}</p>
      {{- end -}}

      {{- if and $btn_text $btn_url -}}
        <a class="mdnv-cta-btn"
           href="{{ $btn_url }}"
           style="
             display:inline-block;
             background: {{ $btn_bg }}; color: {{ $btn_fg }};
             border-radius: 1rem;
             padding: .9rem 1.4rem;     /* igual que antes */
             font-weight: 800;
             text-decoration: none;     /* ← sin subrayado */
             box-shadow: 0 1px 2px rgba(0,0,0,.08);
           ">
          {{ $btn_text }}
        </a>
      {{- end -}}

      {{- .Inner -}}
    </div>
  </div>
</section>

<style>
/* Solo comportamiento/hover del botón (no cambia alturas) */
.mdnv-cta-btn:hover { opacity: .92; }

/* Variante "card" opcional, sin tocar alturas globales */
.mdnv-cta-fullwidth[data-variant="card"] .mdnv-cta-card {
  background: #fff; color: #111827; border-radius: 1rem; padding: 1.25rem;
}
</style>
