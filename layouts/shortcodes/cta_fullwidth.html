{{/* 
  Shortcode: cta_fullwidth (full-bleed opcional)

  Cambios en esta versi칩n:
  - +10px de padding arriba y abajo (calc(py + 10px)).
  - No se tocan otros m치rgenes/altos.
  - Bot칩n sin subrayado.
*/}}

{{- $title         := .Get "title"         | default "" -}}
{{- $text          := .Get "text"          | default "" -}}
{{- $btn_text      := .Get "button_text"   | default "" -}}
{{- $btn_url       := .Get "button_url"    | default "" -}}
{{- $bg            := .Get "bg"            | default "#C83737" -}}
{{- $fg            := .Get "fg"            | default "#FFFFFF" -}}
{{- $btn_bg        := .Get "btn_bg"        | default "#FFFFFF" -}}
{{- $btn_fg        := .Get "btn_fg"        | default "#C83737" -}}
{{- $variant       := .Get "variant"       | default "background" -}} {{/* "background" o "card" */}}
{{- $maxw          := .Get "maxw"          | default "1600px" -}}
{{- $content_maxw  := .Get "content_maxw"  | default "1100px" -}}
{{- $align         := .Get "align"         | default "center" -}}
{{- $py            := .Get "py"            | default "2.5rem" -}}  {{/* valor vertical base */}}
{{- $px            := .Get "px"            | default "clamp(1rem,4vw,3rem)" -}}

<section class="mdnv-cta-fullwidth"
  style="
    position:relative; left:50%; right:50%;
    margin-left:-50vw; margin-right:-50vw; width:100vw;
    {{- if eq $variant "background" -}}
      background: {{ $bg }};
      color: {{ $fg }};
    {{- end -}}
  "
>
  <div style="max-width: {{ $maxw }}; margin: 0 auto;">
    <div
      style="
        max-width: {{ $content_maxw }};
        margin: 0 auto;
        text-align: {{ $align }};
        /* +10px arriba/abajo, laterales iguales */
        padding-top: calc({{ $py }} + 0px);
        padding-bottom: calc({{ $py }} + 10px);
        padding-left: {{ $px }};
        padding-right: {{ $px }};
      "
    >
      {{- if $title -}}
        <h2 style="{{ if eq $variant "background" }}color: {{ $fg }};{{ end }}">
          {{ $title | safeHTML }}
        </h2>
      {{- end -}}

      {{- if $text -}}
        <p>{{ $text | safeHTML }}</p>
      {{- end -}}

      {{- if and $btn_text $btn_url -}}
        <a class="mdnv-cta-btn"
           href="{{ $btn_url }}"
           style="
             display:inline-block;
             background: {{ $btn_bg }}; color: {{ $btn_fg }};
             border-radius: 1rem;
             padding: .9rem 1.4rem;
             font-weight: 800;
             text-decoration: none;  /* sin subrayado */
             box-shadow: 0 1px 2px rgba(0,0,0,.08);
           ">
          {{ $btn_text }}
        </a>
      {{- end -}}

      {{- .Inner -}}
    </div>
  </div>
</section>

<style>
/* Hover del bot칩n (no afecta alturas) */
.mdnv-cta-btn:hover { opacity: .92; }

/* Variante "card" opcional */
.mdnv-cta-fullwidth[data-variant="card"] .mdnv-cta-card {
  background: #fff; color: #111827; border-radius: 1rem; padding: 1.25rem;
}
</style>
