{{/* Override CTA Card - full width + respeta content/design
     Se usa en TODAS las p√°ginas que tengan `block: cta-card` */}}

{{- $page   := .page -}}
{{- $b      := .block -}}
{{- $content := (index $b "content") | default dict -}}
{{- $design  := (index $b "design")  | default dict -}}
{{- $card    := (index $design "card") | default dict -}}

{{- $title    := (index $content "title") | default "" -}}
{{- $text     := (index $content "text")  | default "" -}}
{{- $button   := (index $content "button") | default (index $b "button") | default dict -}}
{{- $btn_text := (index $button "text") | default "" -}}
{{- $btn_url  := (index $button "url")  | default "" -}}

{{- $css_class := (index $card "css_class") | default "" -}}
{{- $css_style := (index $card "css_style") | default "" -}}

<style>
  /* Evita repetir mucho padding lateral y asegura full-bleed controlado */
  .mdnv-cta-bleed { position:relative; left:50%; right:50%; margin-left:-50vw; margin-right:-50vw; width:100vw; }
  .mdnv-cta-inner { max-width:1600px; margin:0 auto; padding-left:clamp(1rem, 4vw, 3rem); padding-right:clamp(1rem, 4vw, 3rem); }
  .mdnv-cta-card  { border-radius: 0.75rem; padding: 1.25rem; }
  @media (min-width: 768px) { .mdnv-cta-card { padding: 2rem; } }
</style>

<div class="mdnv-cta-bleed">
  <div class="mdnv-cta-inner">
    <div class="mdnv-cta-card {{ $css_class }}" style="{{ $css_style }}">
      {{- if $title }}
        <h2 class="section-title mb-2">{{ $title }}</h2>
      {{- end }}

      {{- with $text }}
        {{ $page.RenderString . }}
      {{- end }}

      {{- if and $btn_text $btn_url }}
        <div class="mt-4">
          <a href="{{ $btn_url }}" class="inline-block font-semibold px-5 py-2 rounded-md no-underline"
             style="background:#FFFFFF;color:#C83737;">{{ $btn_text }}</a>
        </div>
      {{- end }}
    </div>
  </div>
</div>
